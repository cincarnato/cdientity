<div class="row">
    <div class="col-12">


        <div class="panel panel panel-primary">
            <div class="panel-heading">
                <h4 class="panel-title">Property Manager</h4>     
            </div>
            <div class="panel-body">
                <div class="clearfix"></div>
                <div>
                    <h4 class="center" name="E" id="E">
                        <?php echo $this->entity; ?>
                    </h4>
                </div>

                <div class="row">

                    <div class="col-3 col-lg-3">
                        <div>
                            <a class="btn btn-danger" href="/cdientity/entity/update/<?php echo $this->entity->getId(); ?>">Persist Change on Entity</a>
                        </div>
                    </div>

                    <div class="col-6 col-lg-6 text-left">
                        <?php if ($this->result !== null): ?>
                            <?php if ($this->result): ?>
                                <div class="alert alert-success padding5">Se actualizo el esquema</div>
                            <?php else: ?>
                                <div class="alert alert-danger padding5">Error al actualizar el esquema. Por favor contacte a soporte. Error:<?php echo $this->exec; ?></div>
                            <?php endif; ?>
                        <?php else: ?>
                            <div class="alert alert-warning padding5">Sin actualizacion de esquema</div>
                        <?php endif; ?>
                    </div>
                </div>

                <?php echo $this->CdiGrid($this->grid); ?>

            </div>
        </div>
    </div>
</div>




<script>

    jQuery(function () {

        changetype();

    });


    function changetype() {
        var types = jQuery("[name='type'").val();

        if (types == "file") {
            jQuery("#row_absolutepath").show();
            jQuery("#row_webpath").show();
        } else {
            jQuery("#row_absolutepath").hide();
            jQuery("#row_webpath").hide();
        }

        if (types == "oneToOne" || types == "manyToOne" || types == "oneToMany") {
            jQuery("#row_length").hide();
            jQuery("#row_relatedEntity").show();
        } else {

            jQuery("#row_length").show();
            jQuery("#row_relatedEntity").hide();
        }

    }

</script>
